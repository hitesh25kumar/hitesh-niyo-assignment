(this["webpackJsonphitesh-niyo-assignment"]=this["webpackJsonphitesh-niyo-assignment"]||[]).push([[0],{42:function(e,a,t){e.exports=t.p+"static/media/search.154d2a4e.svg"},43:function(e,a,t){e.exports=t.p+"static/media/placeholer.bb182cd1.jpg"},44:function(e,a,t){e.exports=t.p+"static/media/no-results.4ae84619.png"},45:function(e,a,t){e.exports=t.p+"static/media/no-results.f45d0b0f.gif"},48:function(e,a,t){e.exports=t(85)},53:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(20),i=t.n(c),s=(t(53),t(47)),o=t(14),l=t(11),m=(t(58),t(46)),u=t(5),v=t(7),d=t.n(v),E=t(13),p=t(28),f=t(29),h=t.n(f),b="https://www.omdbapi.com/";function g(e){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get("".concat(b),{params:a}).then((function(e){return e})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get("".concat(b),{params:a}).then((function(e){return e})).catch((function(e){return e.response.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=d.a.mark(I),_=d.a.mark(j);function I(e){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.b)(g,e.data);case 3:return a=t.sent,t.next=6,Object(E.c)({type:"HOME_DATA_SUCCESS",data:a.data,error:a.errorMessage});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(E.c)({type:"HOME_DATA_FALIURE",error:t.t0.message});case 12:case"end":return t.stop()}}),w,null,[[0,8]])}function j(e){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.b)(O,e.data);case 3:return a=t.sent,t.next=6,Object(E.c)({type:"GET_MOVIE_BY_ID_SUCCESS",data:a.data,error:a.errorMessage});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(E.c)({type:"GET_MOVIE_BY_ID_FAILURE",error:t.t0.message});case 12:case"end":return t.stop()}}),_,null,[[0,8]])}var S=d.a.mark(R),D=d.a.mark(T);function R(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("HOME_DATA_REQUEST",I);case 2:return e.next=4,Object(E.d)("GET_MOVIE_BY_ID_REQUEST",j);case 4:case"end":return e.stop()}}),S)}function T(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([R()]);case 2:case"end":return e.stop()}}),D)}var k=t(15),x=t(19),M=Object(o.c)({HomeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"HOME_DATA_REQUEST":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"HOME_DATA_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,data:a.data});default:return e}},FavouriteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INITIAL_FAVOURITES":return a.data;case"ADD_FAVOURITE":if(-1!==e.indexOf(a.data)){var t=JSON.stringify(e);return localStorage.setItem("favourites",t),e}var r=JSON.stringify([].concat(Object(x.a)(e),[a.data]));return localStorage.setItem("favourites",r),[].concat(Object(x.a)(e),[a.data]);case"REMOVE_FAVOURITE":var n=e.filter((function(e){return e.imdbID!==a.data.imdbID})),c=JSON.stringify(n);return localStorage.setItem("favourites",c),n;default:return e}},MovieDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_MOVIE_BY_ID_REQUEST":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"GET_MOVIE_BY_ID_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,data:a.data});default:return e}}});t(77);function A(e){return{type:"HOME_DATA_REQUEST",data:e}}var C=t(24),F=t(42),U=t.n(F),V=(t(78),Object(l.b)((function(e){return{homedata:e.HomeReducer}}),(function(e){return{searchMovie:function(a){return e(A(a))}}}))((function(e){var a=Object(r.useState)(""),t=Object(C.a)(a,2),c=t[0],i=t[1],s=Object(r.useState)(""),o=Object(C.a)(s,2),l=o[0],m=o[1],u=Object(r.useState)(""),v=Object(C.a)(u,2),d=v[0],E=v[1],p=e.searchMovie,f=e.history,h=function(){"/"!==f.location.pathname&&f.push("/"),p({s:c,apikey:"51c9514d",type:l,y:d})};return n.a.createElement("div",{className:"header-container"},n.a.createElement("div",{className:"header-inner-container"},n.a.createElement("label",{className:"home-label",onClick:function(){return f.push("/")}},"Home"),n.a.createElement("div",{className:"search-dev"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"search-container"},n.a.createElement("input",{type:"search",id:"search",name:"search",onChange:function(e){i(e.target.value)}})),n.a.createElement("div",{className:"filter-container"},n.a.createElement("select",{name:"category",id:"category",onChange:function(e){m(e.target.value),c&&c.length>1&&p({s:c,apikey:"51c9514d",type:e.target.value,y:d})}},n.a.createElement("option",{value:""},"All"),n.a.createElement("option",{value:"movie"},"Movies"),n.a.createElement("option",{value:"series"},"Series"),n.a.createElement("option",{value:"episode"},"Episodes"))),n.a.createElement("input",{placeholder:"Year",className:"year-input",onChange:function(e){E(e.target.value)}}),n.a.createElement("button",{className:"search-button",onClick:h},n.a.createElement("img",{src:U.a,alt:"Search"})),n.a.createElement("button",{className:"search-button mobile",onClick:h},"Search"))),n.a.createElement("div",{className:"fav-wrapper",onClick:function(){return f.push("/favourites")}},"My Favorites")))}))),H=function(e){var a=e.history,t=e.match;return n.a.createElement("div",null,n.a.createElement(V,{history:a,match:t}),e.children)};var B=Object(l.b)((function(e){return{favourites:e.FavouriteReducer}}),(function(e){return{addFavorite:function(a){return e(function(e){return{type:"ADD_FAVOURITE",data:e}}(a))},removeFavorite:function(a){return e(function(e){return{type:"REMOVE_FAVOURITE",data:e}}(a))}}}))((function(e){var a=e.movie,t=e.addFavorite,r=e.removeFavorite,c=e.favourites,i=c.some((function(e){return e.imdbID===a.imdbID}));return n.a.createElement("div",{className:"fav-icon-inner",style:{backgroundColor:i?"#ea4c89":"#E7E7E9",color:i?"#fff":"#000"},onClick:function(){c.some((function(e){return e.imdbID===a.imdbID}))?r(a):t(a)}},n.a.createElement("div",{className:"fav-icon"},n.a.createElement("svg",{className:i?"selected-heart":"heart",xmlns:"http://www.w3.org/2000/svg",fill:i?"#fff":"#000",viewBox:"0 0 24 24",role:"img"},n.a.createElement("path",{d:"m18.199 2.04c-2.606-.284-4.262.961-6.199 3.008-2.045-2.047-3.593-3.292-6.199-3.008-3.544.388-6.321 4.43-5.718 7.96.966 5.659 5.944 9 11.917 12 5.973-3 10.951-6.341 11.917-12 .603-3.53-2.174-7.572-5.718-7.96z"}))),n.a.createElement("label",{className:"fav-label"},i?"Liked":"Like"))})),Y=t(43),G=t.n(Y),L=(t(79),function(e){var a=e.movie,t=e.history;return n.a.createElement("div",{className:"movieCard-main-wrapper"},n.a.createElement("div",{className:"movieCard-top-wrapper",onClick:function(){t.push("/movie/".concat(a.imdbID))}},n.a.createElement("img",{src:"N/A"===a.Poster?G.a:a.Poster,alt:a.Title,className:"movieCard-image"})),n.a.createElement("div",{className:"movieCard-bottom-wrapper"},n.a.createElement("div",{className:"movieCard-fav-wrapper"},n.a.createElement("label",{className:"movieCard-type"},a.Type)," ",n.a.createElement(B,{movie:a})),n.a.createElement("label",{className:"movieCard-title"},a.Title),n.a.createElement("label",{className:"movieCard-release-year"},"Release on ",a.Year)))}),P=(t(80),function(e){var a=e.margin;return n.a.createElement("div",{className:"spinner",style:{margin:a||0}},n.a.createElement("div",{className:"bounce1"}),n.a.createElement("div",{className:"bounce2"}),n.a.createElement("div",{className:"bounce3"}))}),J=t(44),Q=t.n(J),W=(t(81),Object(l.b)((function(e){return{homedata:e.HomeReducer}}),(function(e){return{searchMovie:function(a){return e(A(a))}}}))((function(e){e.searchMovie;var a=e.homedata,t=e.history;return Object(r.useEffect)((function(){}),[]),n.a.createElement(H,{history:t},n.a.createElement("div",{className:"home-main-container"},a&&a.loading?n.a.createElement(P,null):a&&a.data&&a.data.Search&&a.data.Search[0]?n.a.createElement("div",{className:"movies-main-container"},n.a.createElement(n.a.Fragment,null,(a&&a.data&&a.data.Search||[]).map((function(e){return n.a.createElement(L,{movie:e,key:e.imdbID,history:t})})))):n.a.createElement("div",{className:"no-results"},n.a.createElement("img",{src:Q.a,alt:"No results found"}))))}))),z=t(45),$=t.n(z),q=(t(82),Object(l.b)((function(e){return{favourites:e.FavouriteReducer}}))((function(e){var a=e.history,t=e.favourites;return n.a.createElement(H,{history:a},n.a.createElement("div",{className:"favourites-main-container"},t&&t[0]?n.a.createElement("div",{className:"favourites-inner-container"},(t||[]).map((function(e){return n.a.createElement(L,{movie:e,key:e.imdbID,history:a})}))):n.a.createElement("img",{src:$.a,className:"no-favourites",alt:"No Favourite movies found"})))}))),K=(t(83),Object(l.b)((function(e){return{movieDetails:e.MovieDetailsReducer}}),(function(e){return{getMovieDetails:function(a){return e(function(e){return{type:"GET_MOVIE_BY_ID_REQUEST",data:e}}(a))}}}))((function(e){var a=e.getMovieDetails,t=e.match,c=e.movieDetails,i=e.history,s=t.params.id;console.log("match: ",c),Object(r.useEffect)((function(){a({i:s,apikey:"51c9514d"})}),[]);var o=c&&c.data;return n.a.createElement(H,{history:i},n.a.createElement("div",{className:"movie-details-main-wrapper"},o?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"movie-details-inner-wrapper"},n.a.createElement("div",{className:"movie-details-left-wrapper"},n.a.createElement("img",{src:o.Poster,className:"movie-details-poster"})),n.a.createElement("div",{className:"movie-details-right-wrapper"},n.a.createElement("label",{className:"movie-name"},o.Title),n.a.createElement("div",{className:"movie-ratings"},"Imdb Rating ",o.imdbRating),n.a.createElement("h6",null,o.Genre),n.a.createElement("h6",null,o.Language),n.a.createElement("div",{className:"movie-details-desc"},o.Plot),n.a.createElement("div",{className:"movie-sub-details-wrapper"},n.a.createElement("div",{className:"movie-sub-details-item-wrapper"},n.a.createElement("div",{className:"movie-sub-details-title"},"Director"),n.a.createElement("div",{className:"movie-sub-details-value"},o.Director)),n.a.createElement("div",{className:"movie-sub-details-item-wrapper"},n.a.createElement("div",{className:"movie-sub-details-title"},"Production"),n.a.createElement("div",{className:"movie-sub-details-value"},o.Production)),n.a.createElement("div",{className:"movie-sub-details-item-wrapper"},n.a.createElement("div",{className:"movie-sub-details-title"},"Released"),n.a.createElement("div",{className:"movie-sub-details-value"},o.Released)),n.a.createElement("div",{className:"movie-sub-details-item-wrapper"},n.a.createElement("div",{className:"movie-sub-details-title"},"Duration"),n.a.createElement("div",{className:"movie-sub-details-value"},o.Runtime))),n.a.createElement("div",{className:"favourite-btn-wrapper"},n.a.createElement(B,{movie:o})),o.Ratings&&o.Ratings.length>0&&n.a.createElement("div",{className:"movie-ratings-main-wrapper"},n.a.createElement("div",{className:"movie-ratings-inner-wrapper"},(o.Ratings||[]).map((function(e){return n.a.createElement("div",{className:"movie-ratings-item-wrapper"},n.a.createElement("div",{className:"movie-sub-details-title"},e.Source),n.a.createElement("div",{className:"movie-rating-container"},Object(x.a)(Array(+Math.floor(4)).keys()).map((function(e){return n.a.createElement("span",{className:"star",key:e+1,"data-value":e+1},"\u2605")}))))}))))))):n.a.createElement(P,null)))}))),X=Object(s.a)(),Z=X,ee=Object(o.e)(M,Object(o.a)(X,Z));X.run(T);var ae=localStorage.getItem("favourites");if(ae){var te=JSON.parse(ae);ee.dispatch({type:"INITIAL_FAVOURITES",data:te})}var re=function(){return n.a.createElement(l.a,{store:ee},n.a.createElement(m.a,null,n.a.createElement(u.c,null,n.a.createElement(u.a,{exact:!0,path:"/",component:W}),n.a.createElement(u.a,{exact:!0,path:"/favourites",component:q}),n.a.createElement(u.a,{exact:!0,path:"/movie/:id",component:K}),n.a.createElement(u.a,{path:"*"},n.a.createElement("div",null,"404 Page not found")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.d22dc364.chunk.js.map